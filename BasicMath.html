<html>
<head>
<title>Math Worksheet</title>
<script type="text/javascript">
//   For: http://codingforums.com/showthread.php?t=184125
// From: http://www.codingforums.com/javascript-programming/184125-creating-math-sheet-generator.html
// THANKS to jmrker!
//   With a side of http://stackoverflow.com/a/1527834 for random numbers
// var randomnumber = Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;

var NumberOfProblems = 15;
var ColumnsOnPage = 3;
var MinimumValue = 0;
var MaximumValue = 999;

var xvals = [];
var yvals = [];
for (var i=0; i<NumberOfProblems; i++) {
  // random number in range
  xvals.push(Math.floor(Math.random() * (MaximumValue - MinimumValue + 1)) + MinimumValue);
  yvals.push(Math.floor(Math.random() * (MaximumValue - MinimumValue + 1)) + MinimumValue);
  // yvals will always be less than xvals for any given pair this way:
  // yvals.push(Math.floor(Math.random() * (xvals[i] - MinimumValue + 1)) + MinimumValue);
}

function MakeTable(act) {
  var tmp = '';
  var str = '<table border="1" width="80%"><tr>';
  i = 0;
  while (i < NumberOfProblems) {
    x = xvals[i];
    y = yvals[i];
    str += '<td align="right">'+x;
    if (act == 'add') { str += '<br>+ '+y; tmp = x+y; }
    if (act == 'sub') { str += '<br>- '+y; tmp = x-y; }
    if (act == 'mul') { str += '<br>* '+y; tmp = x*y; }
    if (act == 'div') { str += '<br>/ '+y; tmp = (x/y).toFixed(2); }
    str += '<br>_____';
    if (document.getElementById('answers').checked) { str += '<br>'+tmp; }
                                               else { str += '<br>&nbsp;' }
    str += '<br>&nbsp;</td>';
    i++;  
    if ((i % 5) == 0) { str += '</tr><tr>'; }
  }  
  str += '</tr></table>';
  return str;
}

function GenerateWS() {
  var x = 0;  var y = 0;  var str = '';
  var str = '';
  var sel = document.getElementById('MathAction').value;
  switch (sel) {
    case 'add' : str += MakeTable(sel); break;
    case 'sub' : str += MakeTable(sel); break;
    case 'mul' : str += MakeTable(sel); break;
    case 'div' : str += MakeTable(sel); break;
    default : alert('No choice selected'); break;
  }
  document.getElementById('TBL').innerHTML = str;
}
function randOrd() {
  return (Math.round(Math.random())-0.5);
}
function NewSet() {
  xvals.sort(randOrd);
  yvals.sort(randOrd);
}
</script>
</head>

<body>
<select id="MathAction">
  <option value="add">Addition</option>
  <option value="sub">Subtraction</option>
  <option value="mul">Multiplication</option>
  <option value="div">Division</option>
</select>
<button onclick="NewSet()">New worksheet</button>
<input type="checkbox" id="answers">Show Answers 
<button onclick="GenerateWS()">Generate Worksheet</button>
<div id="TBL"></div>
</body>
</html>
